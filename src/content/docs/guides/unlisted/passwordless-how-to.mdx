---
title: Add passwordless authentication to your app
description: Learn how to add passwordless authentication to your app using our headless API solutions.
slug: "guides/unlisted/passwordless-as-service"
head:
  - tag: style
    content: |
      h2 {
        font-size: var(--sl-text-2xl) !important;
      }

---

import { Aside, Steps, Badge, Tabs, TabItem, LinkCard } from '@astrojs/starlight/components';
import InstallSDK from '@components/templates/_installsdk.mdx'


Allow your customers to sign in to your app without a password or enhance your existing password-based authentication with multi-factor authentication (MFA). Scalekit provides the following authentication methods:

- Verification Code (for passwordless or MFA)
- Magic Link <Badge variant="note" text="Coming soon" />
- Magic Link + Verification Code <Badge variant="note" text="Coming soon" />

In this guide, let's use Scalekit's Headless API to verify the user's identity using a verification code whether you're building a new authentication system or enhancing an existing home grown authentication system.

**Prerequisites**

- [Create a Scalekit account](https://app.scalekit.com/ws/signup) and get your API credentials.
- Learn [how to use the API credentials](https://docs.scalekit.com/apis#description/authentication) to make requests to the Scalekit API.

<Aside type="note" title="API Authentication">
You'll need to include an access token in the `Authorization` header for all API requests. Get this token using your client credentials through the OAuth 2.0 client credentials flow. See the [API authentication guide](https://docs.scalekit.com/apis#description/authentication) for details.
</Aside>

Let's get started!

<Steps>

1. ## Enable passwordless authentication

    Although enabled by default, ensure _Verification Code_ is selected in the _Passwordless_ section of the _Authentication > Auth Methods_ tab.

    ![](@/assets/docs/unlisted/passwordless/1.png)

    Install Scalekit SDK into your project

    ```sh showLineNumbers=false
    npm install @scalekit/sdk
    ```

    ```js showLineNumbers=false
    import { Scalekit } from '@scalekit-sdk/node';

    const scalekit = new Scalekit(
      '<SCALEKIT_ENVIRONMENT_URL>',
      '<SCALEKIT_CLIENT_ID>',
      '<SCALEKIT_CLIENT_SECRET>',
    );
    ```


2. ## Send a verification code

   A verification code is sent to the user's email address, which when input in the app, verifies the user's identity.

   In your app's sign in page, collect the user's email address and trigger a verification code over email.

   <Tabs syncKey='tech-stack'>
    <TabItem label="Curl">
    ```sh ins={5-9} "/api/v1/passwordless/email/send" title="Request"
    curl -L '<SCALEKIT_ENVIRONMENT_URL>/api/v1/passwordless/email/send' \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer eyJh..' \
    --data-raw '{
        "email": "saifshine7@gmail.com",
        "expires_in": 300,
        "state": "jAy-state1-gM4fdZdV22nqm6Q_jAy-XwpYdYFh..2nqm6Q",
        "template": "SIGNIN",
        "expires_in": 100
    }'
    ```

    </TabItem>
    <TabItem label="Node.js">
    ```js wrap
    const options = {
      template: "SIGNIN", // or "SIGNUP"
      state: "jAy-state1-...2nqm6Q", // optional, defaults to a random string
      expiresIn: 3600 // optional, defaults to 3600 seconds
    };

    const sendResponse = await scalekit.passwordless
      .sendPasswordlessEmail(
        "john.doe@example.com",
        options
    );

    // sendResponse = {
    //   authRequestId: string,
    //   expiresAt: number,    // seconds since epoch
    //   expiresIn: number,    // seconds
    //   passwordlessType: string  // "OTP" | "LINK" | "LINK_OTP"
    // }
    ```
    </TabItem>
   </Tabs>

        | Param | Description |
        |-----------|-------------|
        | <pre>email</pre> | The email address of the user to send the verification code to <Badge variant="note" text="string" /> |
        | <pre>expires_in</pre> | The time in seconds after which the verification code will expire. Default is 100 seconds (5 minutes) <Badge variant="note" text="number" /> |
        | <pre>state</pre> | A unique state parameter that validates the authentication response matches the original request, crucial for passwordless flows with delayed verification. Based on OIDC spec <Badge variant="note" text="string" /> |
        | <pre>template</pre> | The email template to use. Currently supports `SIGNIN` and `SIGNUP` <Badge variant="note" text="string" /> |


        ```json showLineNumbers=false title="Response"
        {
            "auth_request_id": "u3HM3VJP1hF14wkXf2IctaZb..",
            "expires_at": "1748696575",
            "expires_in": 100,
            "passwordless_type": "OTP"
        }
        ```
        | Param | Description |
        |-----------|-------------|
        | <pre>auth_request_id</pre> | A unique identifier for the authentication request that can be used to verify the code <Badge variant="note" text="string" /> |
        | <pre>expires_at</pre> | Unix timestamp indicating when the verification code will expire <Badge variant="note" text="string" /> |
        | <pre>expires_in</pre> | The time in seconds after which the verification code will expire. Default is 100 seconds <Badge variant="note" text="number" /> |
        | <pre>passwordless_type</pre> | The type of passwordless authentication to use. Currently supports `OTP`, `LINK`, `LINK_OTP` <Badge variant="note" text="string" /> |

        <Aside type="caution" title="Rate limits">
        You can send a maximum of 2 passwordless emails per minute per email address, including emails resent.
        </Aside>

3. ## Resend a verification code

   Users can request a new verification code if they need one. Use the following endpoint to send a fresh code.

   <Tabs syncKey='tech-stack'>
    <TabItem label="Curl">
    ```sh ins={5} "/api/v1/passwordless/email/resend" title="Request" "auth_request_id" wrap
    curl -L '<SCALEKIT_ENVIRONMENT_URL>/api/v1/passwordless/email/resend' \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsIm..' \
    -d '{
        "auth_request_id": "MMXw81GFTH8p0cz-YP1J3QtF-5IOV0gz..fUVQ"
    }'
    ```

    </TabItem>
    <TabItem label="Node.js">
    ```js
    const resendResponse = await scalekit.passwordless
    .resendPasswordlessEmail(
        sendResponse.authRequestId
    );

    // resendResponse = {
    //   authRequestId: string,
    //   expiresAt: number,    // seconds since epoch
    //   expiresIn: number,    // seconds
    //   passwordlessType: string  // "OTP" | "LINK" | "LINK_OTP"
    // }
    ```
    </TabItem>
   </Tabs>

   | Param | Description |
   |-----------|-------------|
   | <pre>auth_request_id</pre> | The unique identifier for the authentication request that was sent earlier <Badge variant="note" text="string" /> |

    ```json showLineNumbers=false title="Response"
    {
        "auth_request_id": "MMXw81GFTH8p0cz..z1POS8C46fUVQ",
        "expires_at": "1748700599",
        "expires_in": 100,
        "passwordless_type": "OTP"
    }
    ```

    | Param | Description |
    |-----------|-------------|
    | <pre>email</pre> | The email address of the user to send the verification code to <Badge variant="note" text="string" /> |
    | <pre>expires_in</pre> | The time in seconds after which the verification code will expire. Default is 100 seconds (5 minutes) <Badge variant="note" text="number" /> |
    | <pre>state</pre> | A unique state parameter that validates the authentication response matches the original request, crucial for passwordless flows with delayed verification. Based on OIDC spec <Badge variant="note" text="string" /> |
    | <pre>template</pre> | The email template to use. Currently supports `SIGNIN` and `SIGNUP` <Badge variant="note" text="string" /> |

4. ## Verify the code

   After the user receives the verification code, they can enter it in your app. Use the following endpoint to verify the code.

   <Tabs syncKey='tech-stack'>
    <TabItem label="Curl">
    ```sh ins={5} "/api/v1/passwordless/email/verify" title="Request" "auth_request_id" wrap
    curl -L '<SCALEKIT_ENVIRONMENT_URL>/api/v1/passwordless/email/verify' \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsIm..' \
    -d '{
        "code": "123456",
        "auth_request_id": "YC4QR-dVZVtNNVHcHwrnHNDV..."
    }'
    ```

    </TabItem>
    <TabItem label="Node.js">
    ```js
    const verifyResponse = await scalekit.passwordless
    .verifyPasswordlessEmail(
        "123456", // code received via email
        sendResponse.authRequestId
    );

    // verifyResponse = {
    //   email: string,
    //   state: string,        // optional
    //   template: string,     // "SIGNIN" | "SIGNUP"
    //   passwordlessType: string // "OTP" | "LINK" | "LINK_OTP"
    // }
    ```
    </TabItem>
   </Tabs>

   | Param | Description |
   |-----------|-------------|
   | <pre>otp_code</pre> | The verification code received by the user <Badge variant="note" text="string" /> |
   | <pre>auth_request_id</pre> | The unique identifier for the authentication request that was sent earlier <Badge variant="note" text="string" /> |

   ```json showLineNumbers=false title="Response"
   {
       "email": "saifshine7@gmail.com",
       "state": "jAy-state1-gM4fdZdV22nqm6Q_j..",
       "template": "SIGNIN",
       "passwordless_type": "OTP"
   }
   ```

   | Param | Description |
   |-----------|-------------|
   | <pre>email</pre> | The email address of the user <Badge variant="note" text="string" /> |
   | <pre>state</pre> | The state parameter that was passed in the original request <Badge variant="note" text="string" /> |
   | <pre>template</pre> | The template that was used for the verification code <Badge variant="note" text="string" /> |
   | <pre>passwordless_type</pre> | The type of passwordless authentication to use. Currently supports `OTP`, `LINK`, `LINK_OTP` <Badge variant="note" text="string" /> |

</Steps>

Passwordless authentication is now ready to use in your application. Users can sign in securely without passwords by entering a verification code sent to their email.

<LinkCard
  title="Need more help?"
  href="/support/contact-us"
  description="Reach out to us for any questions or support"
/>
