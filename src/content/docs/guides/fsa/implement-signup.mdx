---
title: "Implement signup"
description: "Learn how to handle new user signups with Scalekit, either through the managed UI or programmatically via API."
sidebar:
  label: "Set up user signup"
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
      .sl-markdown-content h3 {
        font-size: var(--sl-text-lg);
      }
prev: false
next: false
---
import { Card, CardGrid, Steps, TabItem, Tabs, Aside, LinkCard } from '@astrojs/starlight/components';

User signup is the process of creating a new user and associating them with an organization within Scalekit. This ensures that their identity and data are correctly managed from the start.

Scalekit provides two primary methods for handling user signups:
1.  **Using Scalekit's Managed UI**: A quick and simple method that directs users to a pre-built signup page.
2.  **Programmatically via API**: A flexible method for applications with custom signup forms.

## Method 1: Signup with Scalekit's Managed UI

You can direct users to Scalekit's managed signup page by adding the `prompt: 'create'` parameter when generating the authorization URL. This is the simplest way to implement a signup flow.

<Tabs>
<TabItem value="node" label="Node.js">

```javascript title="Express.js" wrap
const redirectUri = 'http://localhost:3000/api/callback';

const options = {
  scopes: ['openid', 'profile', 'email', 'offline_access'],
  prompt: 'create', // This explicitly takes the user to the signup flow
};

const authorizationUrl = scalekit.getAuthorizationUrl(redirectUri, options);

res.redirect(authorizationUrl);
```
</TabItem>
<TabItem value="python" label="Python">

```python title="Flask"
from scalekit import AuthorizationUrlOptions

redirect_uri = 'http://localhost:3000/api/callback'
options = AuthorizationUrlOptions(
    scopes=['openid', 'profile', 'email', 'offline_access'],
    prompt='create'  # This explicitly takes the user to the signup flow
)

authorization_url = scalekit.get_authorization_url(redirect_uri, options)

return redirect(authorization_url)
```
</TabItem>
<TabItem value="go" label="Go">

```go title="Gin"
redirectUri := "http://localhost:3000/api/callback"
options := scalekit.AuthorizationUrlOptions{
    Scopes: []string{"openid", "profile", "email", "offline_access"},
    Prompt: "create", // This explicitly takes the user to the signup flow
}

authorizationUrl, err := scalekit.GetAuthorizationUrl(redirectUri, options)
if err != nil {
    // handle error appropriately
    panic(err)
}

c.Redirect(http.StatusFound, authorizationUrl.String())
```
</TabItem>
<TabItem value="java" label="Java">

```java title="Spring"
import com.scalekit.internal.http.AuthorizationUrlOptions;
import java.net.URL;
import java.util.Arrays;

String redirectUri = "http://localhost:3000/api/callback";
AuthorizationUrlOptions options = new AuthorizationUrlOptions();
options.setScopes(Arrays.asList("openid", "profile", "email", "offline_access"));
options.setPrompt("create"); // This explicitly takes the user to the signup flow

URL authorizationUrl = scalekit.authentication().getAuthorizationUrl(redirectUri, options);

return "redirect:" + authorizationUrl.toString();
```
</TabItem>
</Tabs>

This flow will present the user with the authentication options you have enabled.

<LinkCard
  title="Configure Authentication Methods"
  href="/guides/fsa/auth-methods/"
  description="Enable passwordless, social, or enterprise SSO to customize the signup experience."
/>

After the user signs up, they are redirected back to your application, and you can proceed to [create a session](/guides/fsa/implement-login/#create-a-user-session) for them, just like in the login flow.

## Method 2: Programmatic Signup via API

If your application uses a custom signup form, you can create a user programmatically by calling the Scalekit API. This gives you full control over the user experience.

<Steps>
1. ### Collect user information
   Use your custom form to collect the necessary details from the user, such as their name and email address.

2. ### Create the user in Scalekit
   After the user submits your form, make an API call to create the user in Scalekit. You must associate the user with an organization.

    <Tabs>
    <TabItem value="node" label="Node.js">

    ```javascript wrap
    const newUser = await scalekit.user.createUserAndMembership('org_xxxxxxxxxxxx', {
      email: "user@example.com",
      userProfile: {
        firstName: "John",
        lastName: "Doe"
      },
      metadata: {
        // Your internal user ID can be stored here
        internal_user_id: "usr-abc-123",
        department: "Engineering"
      }
    });
    ```
    </TabItem>
    <TabItem value="python" label="Python">

    ```python
    from scalekit.users import UserClient
    from scalekit.v1.users.users_pb2 import CreateUser, CreateUserProfile

    # Initialize user client
    user_client = UserClient(scalekit.core_client)

    # Create user object
    user = CreateUser(
        email="user@example.com",
        user_profile=CreateUserProfile(
            first_name="John",
            last_name="Doe"
        ),
        metadata={
            # Your internal user ID can be stored here
            "internal_user_id": "usr-abc-123",
            "department": "Engineering"
        }
    )

    # Create the user
    new_user = user_client.create_user('org_xxxxxxxxxxxx', user)

    # Note: Python SDK doesn't have createUserAndMembership equivalent
    # User is automatically added to the organization when created
    ```
    </TabItem>
    <TabItem value="go" label="Go">

    ```go
    import (
        "context"
        usersv1 "github.com/scalekit-inc/scalekit-sdk-go/pkg/grpc/scalekit/v1/users"
    )

    user := &usersv1.CreateUser{
        Email: "user@example.com",
        UserProfile: &usersv1.CreateUserProfile{
            FirstName: "John",
            LastName:  "Doe",
        },
        Metadata: map[string]string{
            // Your internal user ID can be stored here
            "internal_user_id": "usr-abc-123",
            "department":       "Engineering",
        },
    }

    newUser, err := scalekit.User().CreateUserAndMembership(
        context.Background(),
        "org_xxxxxxxxxxxx", // The ID of the organization the user belongs to
        user,
        false, // sendActivationEmail
    )
    if err != nil {
        // handle error appropriately
        return err
    }
    ```
    </TabItem>
    <TabItem value="java" label="Java">

    ```java
    import com.scalekit.grpc.scalekit.v1.users.*;

    CreateUserAndMembershipRequest request = CreateUserAndMembershipRequest.newBuilder()
        .setUser(CreateUser.newBuilder()
            .setEmail("user@example.com")
            .setUserProfile(CreateUserProfile.newBuilder()
                .setFirstName("John")
                .setLastName("Doe")
                .build())
            .putMetadata("internal_user_id", "usr-abc-123") // Your internal user ID can be stored here
            .putMetadata("department", "Engineering")
            .build())
        .build();

    CreateUserAndMembershipResponse newUser = scalekit.users()
        .createUserAndMembership("org_xxxxxxxxxxxx", request); // The ID of the organization the user belongs to
    ```
    </TabItem>
    </Tabs>

    <Aside type="note">
    You can store additional information about the user, such as your application's internal user ID, using [custom metadata](/fsa/data-modelling/#custom-metadata).
    </Aside>

3. ### Initiate a login flow
    After creating the user programmatically, they do not have an active session. You must then initiate a login flow to authenticate them and establish a session. You can do this by redirecting them to the [login page](/guides/fsa/implement-login/#redirect-to-the-login-page).

</Steps>