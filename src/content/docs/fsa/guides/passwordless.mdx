---
title: Passwordless
description: How to configure passwordless authentication for your application
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
prev:
  label: "Enterprise SSO"
  link: "/fsa/guides/enterprise-sso/"
---
import { Steps, Tabs, TabItem, Aside } from '@astrojs/starlight/components';
import InstallSDK from '@components/templates/_installsdk.mdx';
import CheckItem from '@/components/ui/CheckItem.astro';

Passwordless authentication allows users to sign in without a password, typically by using a verification code (OTP) or a magic link sent to their email. This guide shows you how to implement passwordless login.

{/* Placeholder for a diagram showing passwordless flow */}
![Placeholder for Passwordless Flow](@/assets/docs/fsa/auth-methods/passwordless-1.png)

<div>
   Before you begin
  <CheckItem iconName="forward-slash">
     [Set up your Scalekit account](https://app.scalekit.com/ws/signup)
  </CheckItem>
  <CheckItem iconName="forward-slash">
     [Enable and configure passwordless authentication](https://app.scalekit.com/dashboard/auth/passwordless) in your Scalekit dashboard.
  </CheckItem>
</div>

<Steps>
1. ## Install the Scalekit SDK

    <InstallSDK />

    Copy your API credentials from the Scalekit dashboard's API Config section and set them as environment variables.
    ```bash
    SCALEKIT_ENVIRONMENT_URL='<YOUR_ENVIRONMENT_URL>'
    SCALEKIT_CLIENT_ID='<ENVIRONMENT_CLIENT_ID>'
    SCALEKIT_CLIENT_SECRET='<ENVIRONMENT_CLIENT_SECRET>'
    ```

    Create a new Scalekit client instance.
    <Tabs syncKey="tech-stack">
      <TabItem value="nodejs" label="Node.js">
      ```javascript
      import { Scalekit } from '@scalekit-sdk/node';

      const scalekit = new Scalekit(
        process.env.SCALEKIT_ENVIRONMENT_URL,
        process.env.SCALEKIT_CLIENT_ID,
        process.env.SCALEKIT_CLIENT_SECRET
      );
      ```
      </TabItem>
      <TabItem value="py" label="Python">
      ```python
      import os
      from scalekit import ScalekitClient

      scalekit_client = ScalekitClient(
        environment_url=os.environ.get('SCALEKIT_ENVIRONMENT_URL'),
        client_id=os.environ.get('SCALEKIT_CLIENT_ID'),
        client_secret=os.environ.get('SCALEKIT_CLIENT_SECRET')
      )
      ```
      </TabItem>
      <TabItem value="go" label="Go">
        ```go
        package main

        import (
        	"os"
        	"github.com/scalekit/scalekit-sdk-go"
        )

        var scalekitClient *scalekit.ScalekitClient

        func main() {
        	// Or in an init() function
        	scalekitClient = scalekit.NewScalekitClient(
        		os.Getenv("SCALEKIT_ENVIRONMENT_URL"),
        		os.Getenv("SCALEKIT_CLIENT_ID"),
        		os.Getenv("SCALEKIT_CLIENT_SECRET"),
        	)
        }
        ```
      </TabItem>
      <TabItem value="java" label="Java">
        ```java
        package com.example;

        import com.scalekit.ScalekitClient;

        public class Main {
            public static ScalekitClient scalekit;

            public static void main(String[] args) {
                scalekit = new ScalekitClient(
                    System.getenv("SCALEKIT_ENVIRONMENT_URL"),
                    System.getenv("SCALEKIT_CLIENT_ID"),
                    System.getenv("SCALEKIT_CLIENT_SECRET")
                );
            }
        }
        ```
      </TabItem>
    </Tabs>

2. ## Initiate passwordless login

    To start the passwordless flow, you need the user's email address. Redirect the user to Scalekit's authorization URL with their email in the `login_hint` parameter.

    <Tabs syncKey="tech-stack">
    <TabItem value="nodejs" label="Node.js">

    ```javascript title="Express.js"
    const redirectUri = 'http://localhost:3000/api/callback';

    // The user's email, typically collected from a login form.
    const userEmail = 'user@example.com';

    const authorizationURL = scalekit.getAuthorizationUrl(redirectUri, {
      login_hint: userEmail,
    });

    // Redirect the user to this authorizationURL
    res.redirect(authorizationURL);
    ```

    </TabItem>
    <TabItem value="py" label="Python">
    ```python
    from scalekit import AuthorizationUrlOptions

    redirect_uri = 'http://localhost:3000/api/callback'
    user_email = 'user@example.com'

    options = AuthorizationUrlOptions()
    options.login_hint = user_email

    authorization_url = scalekit_client.get_authorization_url(
      redirect_uri=redirect_uri,
      options=options
    )

    # Redirect the user to this authorization URL
    ```
    </TabItem>
    <TabItem value="go" label="Go">
    ```go
    import "github.com/scalekit/scalekit-sdk-go"

    redirectUrl := "http://localhost:3000/api/callback"
    userEmail := "user@example.com"

    options := scalekit.AuthorizationUrlOptions{
        LoginHint: userEmail,
    }

    authorizationURL := scalekitClient.GetAuthorizationUrl(
        redirectUrl,
        options,
    )
    // Next step is to redirect the user to this authorization URL
    ```
    </TabItem>
    <TabItem value="java" label="Java">
    ```java
    import com.scalekit.internal.http.AuthorizationUrlOptions;

    String redirectUrl = "http://localhost:3000/api/callback";
    String userEmail = "user@example.com";

    AuthorizationUrlOptions options = new AuthorizationUrlOptions();
    options.setLoginHint(userEmail);

    try {
      String url = scalekit.authentication().getAuthorizationUrl(redirectUrl, options).toString();
      // Redirect the user to this authorization URL
    } catch (Exception e) {
      System.out.println(e.getMessage());
    }
    ```
    </TabItem>
    </Tabs>

    Scalekit will handle sending the magic link or OTP to the user. After they verify their identity, they will be redirected back to your application.

3. ## Retrieve user profile

    After the user verifies their identity, Scalekit redirects them to your `redirect_uri` with a temporary authorization code. Exchange this code for the user's profile information on your server.

    <Tabs syncKey="tech-stack">
        <TabItem value="node" label="Node.js">
        ```javascript
        const redirectUri = 'http://localhost:3000/api/callback';

        app.get('/api/callback', async (req, res) => {
          const { code, error, error_description } = req.query;

          if (error) {
            return res.status(401).json({ error, error_description });
          }

          try {
            // Exchange the authorization code for a user profile
            const authResult = await scalekit.authenticateWithCode(
              code, redirectUri
            );

            const { user } = authResult;
            // Next step: Create a session and log in the user
            res.redirect('/dashboard');
          } catch (err) {
            console.error('Error exchanging code:', err);
            res.status(500).json({ error: 'Failed to authenticate user' });
          }
        });
        ```
        </TabItem>
        <TabItem value="py" label="Python">
        ```python
        # Handle oauth redirect_url
        code = request.args.get('code')
        error = request.args.get('error')
        error_description = request.args.get('error_description')

        if error:
            raise Exception(error_description)

        redirect_uri = 'http://localhost:3000/api/callback'
        result = scalekit_client.authenticate_with_code(
          code,
          redirect_uri
        )

        # result.user has the authenticated user's details
        user_email = result.user.email

        # Next step: create a session for this user and allow access
        ```
        </TabItem>
        <TabItem value="go" label="Go">
        ```go
        // Handle oauth redirect_url
        code := r.URL.Query().Get("code")
        error := r.URL.Query().Get("error")
        errorDescription := r.URL.Query().Get("error_description")

        if error != "" {
          // Handle errors and exit
        }

        redirectUrl := "http://localhost:3000/api/callback"
        result, err := scalekitClient.AuthenticateWithCode(code, redirectUrl)
        if err != nil {
          // Handle errors and exit
        }

        // result.User has the authenticated user's details
        userEmail := result.User.Email

        // Next step: create a session for this user and allow access
        ```
        </TabItem>
        <TabItem value="java" label="Java">
        ```java
        import com.scalekit.models.AuthenticationResponse;

        // Handle oauth redirect_url
        String code = request.getParameter("code");
        String error = request.getParameter("error");
        String errorDescription = request.getParameter("error_description");

        if (error != null && !error.isEmpty()) {
            // Handle errors
            return;
        }

        try {
            String redirectUrl = "http://localhost:3000/api/callback";
            AuthenticationResponse result = scalekit.authentication().authenticateWithCode(code, redirectUrl);
            // result.getIdTokenClaims() has the authenticated user's details
            String userEmail = result.getIdTokenClaims().getEmail();

            // Next step: create a session for this user and allow access
        } catch (Exception e) {
            // Handle errors
        }
        ```
        </TabItem>
    </Tabs>

    The `user` object in the `authResult` contains the authenticated user's details.

    <Aside type="note" title="What about creating a session and logging out?">
    Session management and logout procedures for passwordless authentication are the same as in our main [Quickstart guide](/fsa/quickstart/). Refer to it for details on creating sessions, handling tokens, and secure logout.
    </Aside>

</Steps>
