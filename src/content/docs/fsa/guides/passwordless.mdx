---
title: Enable passwordless sign in
description: How to configure passwordless authentication for your application
sidebar:
  label: "Passwordless"
head:
  - tag: style
    content: |
      .sl-markdown-content h2 {
        font-size: var(--sl-text-xl);
      }
      .sl-markdown-content h3 {
        font-size: var(--sl-text-lg);
      }
prev:
  label: "Implement sign up"
  link: "/fsa/guides/implement-signup/"
next: false
---
import { Steps, Tabs, TabItem, Aside, LinkButton } from '@astrojs/starlight/components';
import InstallSDK from '@components/templates/_installsdk.mdx';
import CheckItem from '@/components/ui/CheckItem.astro';

Passwordless authentication allows your users to sign in without entering a password. Users can authenticate using any of the following methods:

- A verification code (OTP) sent by email.
- A magic link sent by email.
- Both a verification code and a magic link sent by email.

This guide shows you how to enable each passwordless login method. You should complete the [quickstart guide](/fsa/quickstart/) before following this guide, as it covers building a sign-in page that combines Scalekit's hosted UI, Google social login, and email-based OTP passwordless login.

Choose one of the following approaches to get started:

<LinkButton href="#implement-passwordless-login-with-scalekits-hosted-ui" variant='secondary'>Implement with Scalekit's hosted UI</LinkButton>
<LinkButton href="/guides/passwordless/quickstart/" variant='secondary'>Implement headless passwordless login</LinkButton>


## Implement passwordless login with Scalekit's hosted UI

This approach redirects users to Scalekit's hosted UI for authentication. Your app generates an authorization endpoint, where users input their email address. Scalekit handles the verification process and redirects users back to your app. Your app then retrieves the user's profile details from Scalekit.

<Steps>
1. ### Complete the prerequisites

    <CheckItem iconName="forward-slash">
     [Set up your Scalekit account](https://app.scalekit.com/ws/signup)
    </CheckItem>
    <CheckItem iconName="forward-slash">
     [Enable and configure passwordless authentication](https://app.scalekit.com/dashboard/auth/passwordless) in your Scalekit dashboard.
    </CheckItem>
1. ### Install the Scalekit SDK

    <InstallSDK />

    Copy your API credentials from the Scalekit dashboard's API Config section and set them as environment variables.
    ```bash
    SCALEKIT_ENVIRONMENT_URL='<YOUR_ENVIRONMENT_URL>'
    SCALEKIT_CLIENT_ID='<ENVIRONMENT_CLIENT_ID>'
    SCALEKIT_CLIENT_SECRET='<ENVIRONMENT_CLIENT_SECRET>'
    ```

    Create a new Scalekit client instance.
    <Tabs syncKey="tech-stack">
      <TabItem value="nodejs" label="Node.js">
      ```javascript
      import { Scalekit } from '@scalekit-sdk/node';

      const scalekit = new Scalekit(
        process.env.SCALEKIT_ENVIRONMENT_URL,
        process.env.SCALEKIT_CLIENT_ID,
        process.env.SCALEKIT_CLIENT_SECRET
      );
      ```
      </TabItem>
      <TabItem value="py" label="Python">
      ```python
      import os
      from scalekit import ScalekitClient

      scalekit_client = ScalekitClient(
        environment_url=os.environ.get('SCALEKIT_ENVIRONMENT_URL'),
        client_id=os.environ.get('SCALEKIT_CLIENT_ID'),
        client_secret=os.environ.get('SCALEKIT_CLIENT_SECRET')
      )
      ```
      </TabItem>
      <TabItem value="go" label="Go">
        ```go
        package main

        import (
        	"os"
        	"github.com/scalekit/scalekit-sdk-go"
        )

        var scalekitClient *scalekit.ScalekitClient

        func main() {
        	// Or in an init() function
        	scalekitClient = scalekit.NewScalekitClient(
        		os.Getenv("SCALEKIT_ENVIRONMENT_URL"),
        		os.Getenv("SCALEKIT_CLIENT_ID"),
        		os.Getenv("SCALEKIT_CLIENT_SECRET"),
        	)
        }
        ```
      </TabItem>
      <TabItem value="java" label="Java">
        ```java
        package com.example;

        import com.scalekit.ScalekitClient;

        public class Main {
            public static ScalekitClient scalekit;

            public static void main(String[] args) {
                scalekit = new ScalekitClient(
                    System.getenv("SCALEKIT_ENVIRONMENT_URL"),
                    System.getenv("SCALEKIT_CLIENT_ID"),
                    System.getenv("SCALEKIT_CLIENT_SECRET")
                );
            }
        }
        ```
      </TabItem>
    </Tabs>

2. ### Start the passwordless login flow

    To initiate the passwordless flow, you can optionally provide the user's email address in the `login_hint` parameter when redirecting to Scalekit's authorization URL.

    <Tabs syncKey="tech-stack">
    <TabItem value="nodejs" label="Node.js">

    ```javascript title="Express.js"
    const redirectUri = 'http://localhost:3000/api/callback';

    // Optionally provide the user's email, typically collected from a login form
    const userEmail = 'user@example.com';

    const authorizationURL = scalekit.getAuthorizationUrl(redirectUri, {
      login_hint: userEmail, // Optional: Pre-fill the email field
    });

    // Redirect the user to this authorizationURL
    res.redirect(authorizationURL);
    ```

    </TabItem>
    <TabItem value="py" label="Python">
    ```python
    from scalekit import AuthorizationUrlOptions

    redirect_uri = 'http://localhost:3000/api/callback'
    user_email = 'user@example.com'  # Optional: Pre-fill the email field

    options = AuthorizationUrlOptions()
    options.login_hint = user_email  # Optional: Pre-fill the email field

    authorization_url = scalekit_client.get_authorization_url(
      redirect_uri=redirect_uri,
      options=options
    )

    # Redirect the user to this authorization URL
    ```
    </TabItem>
    <TabItem value="go" label="Go">
    ```go
    import "github.com/scalekit/scalekit-sdk-go"

    redirectUrl := "http://localhost:3000/api/callback"
    userEmail := "user@example.com"

    options := scalekit.AuthorizationUrlOptions{
        LoginHint: userEmail,
    }

    authorizationURL := scalekitClient.GetAuthorizationUrl(
        redirectUrl,
        options,
    )
    // Next step is to redirect the user to this authorization URL
    ```
    </TabItem>
    <TabItem value="java" label="Java">
    ```java
    import com.scalekit.internal.http.AuthorizationUrlOptions;

    String redirectUrl = "http://localhost:3000/api/callback";
    String userEmail = "user@example.com";

    AuthorizationUrlOptions options = new AuthorizationUrlOptions();
    options.setLoginHint(userEmail);

    try {
      String url = scalekit.authentication().getAuthorizationUrl(redirectUrl, options).toString();
      // Redirect the user to this authorization URL
    } catch (Exception e) {
      System.out.println(e.getMessage());
    }
    ```
    </TabItem>
    </Tabs>

    Scalekit handles sending the magic link or OTP to the user. After the user verifies their identity, Scalekit redirects them back to your application.

3. ### Get the user's profile information

    After the user verifies their identity, Scalekit redirects them to your `redirect_uri` with a temporary authorization code. Exchange this code for the user's profile information on your server.

    <Tabs syncKey="tech-stack">
        <TabItem value="node" label="Node.js">
        ```javascript
        const redirectUri = 'http://localhost:3000/api/callback';

        app.get('/api/callback', async (req, res) => {
          const { code, error, error_description } = req.query;

          if (error) {
            return res.status(401).json({ error, error_description });
          }

          try {
            // Exchange the authorization code for a user profile
            const authResult = await scalekit.authenticateWithCode(
              code, redirectUri
            );

            const { user } = authResult;
            // Next step: Create a session and log in the user
            res.redirect('/dashboard');
          } catch (err) {
            console.error('Error exchanging code:', err);
            res.status(500).json({ error: 'Failed to authenticate user' });
          }
        });
        ```
        </TabItem>
        <TabItem value="py" label="Python">
        ```python
        # Handle oauth redirect_url
        code = request.args.get('code')
        error = request.args.get('error')
        error_description = request.args.get('error_description')

        if error:
            raise Exception(error_description)

        redirect_uri = 'http://localhost:3000/api/callback'
        result = scalekit_client.authenticate_with_code(
          code,
          redirect_uri
        )

        # result.user has the authenticated user's details
        user_email = result.user.email

        # Next step: create a session for this user and allow access
        ```
        </TabItem>
        <TabItem value="go" label="Go">
        ```go
        // Handle oauth redirect_url
        code := r.URL.Query().Get("code")
        error := r.URL.Query().Get("error")
        errorDescription := r.URL.Query().Get("error_description")

        if error != "" {
          // Handle errors and exit
        }

        redirectUrl := "http://localhost:3000/api/callback"
        result, err := scalekitClient.AuthenticateWithCode(code, redirectUrl)
        if err != nil {
          // Handle errors and exit
        }

        // result.User has the authenticated user's details
        userEmail := result.User.Email

        // Next step: create a session for this user and allow access
        ```
        </TabItem>
        <TabItem value="java" label="Java">
        ```java
        import com.scalekit.models.AuthenticationResponse;

        // Handle oauth redirect_url
        String code = request.getParameter("code");
        String error = request.getParameter("error");
        String errorDescription = request.getParameter("error_description");

        if (error != null && !error.isEmpty()) {
            // Handle errors
            return;
        }

        try {
            String redirectUrl = "http://localhost:3000/api/callback";
            AuthenticationResponse result = scalekit.authentication().authenticateWithCode(code, redirectUrl);
            // result.getIdTokenClaims() has the authenticated user's details
            String userEmail = result.getIdTokenClaims().getEmail();

            // Next step: create a session for this user and allow access
        } catch (Exception e) {
            // Handle errors
        }
        ```
        </TabItem>
    </Tabs>

    The `user` object in the `authResult` contains the authenticated user's details.
</Steps>

## Configure passwordless login settings

You can modify the passwordless login behavior from the Scalekit dashboard without changing your code.

![Placeholder for Passwordless Flow](@/assets/docs/fsa/auth-methods/passwordless-1.png)

### Choose a passwordless login method

<Steps>

1. Navigate to the Authentication tab in your Scalekit dashboard environment.
2. Select one of the following options:

    | Method | Description |
    |--------|-------------|
    | Verification code (OTP) | Users receive a one-time code via email that they must enter to sign in. |
    | Magic link | Users receive a secure link via email that they can click to sign in directly. |
    | Verification code and magic link | Users receive both a verification code and a magic link via email, allowing them to choose their preferred method. |

3. Click Save to apply your changes.

</Steps>

### Enable same browser origin enforcement

When you enable this setting, users must complete the magic link authentication in the same browser where they initiated the sign-in process.

**Enhanced Security**: This prevents potential phishing attacks and unauthorized access attempts where attackers might intercept magic links and use them from different devices or browsers.

To enable this feature, check the "Enforce same browser origin" option under the Passwordless section, then click Save to apply the changes.

### Customize email templates

You can customize the emails sent to users to match your brand, or you can [bring your own email provider](/guides/passwordless/custom-email-provider/) to handle email sends related to passwordless login. Scalekit sends the emails when you use it as your email provider.

<Aside type="tip" title="Private Beta">
These customization features are currently in private beta. Please [contact our support team](/support/contact-us/) to have them enabled for your account.
</Aside>
